<!--
 Author: Edgar Butwilowski
 Copyright (c) Fachstelle Geoinformation Winterthur. All rights reserved.
-->
<div style="margin: 2em;">
    <div class="fab-button-container">
      <button mat-fab [routerLink]="['/users', 'new']"
          style="background-color: rgb(133, 99, 212);" class="fab-button">
        <mat-icon aria-label="+">add</mat-icon>
      </button>
    </div>
    <p>Hier k&ouml;nnen Sie Benutzer dieses Systems hinzuf&uuml;gen, entfernen oder bearbeiten.</p>
    <p *ngIf="responseMessage !== null" style="color: red;">{{ responseMessage }}</p>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z2" style="width: 100%">

      <ng-container matColumnDef="editAction">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let element">
          <a [routerLink]="['/users', element.mailAddress]" matTooltip="Benutzer bearbeiten">
            <mat-icon style="margin: 0.5em;background-color:rgb(74,90,210);color:white;" aria-label="Benutzer bearbeiten">
            edit_square
            </mat-icon>
          </a>
        </td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> Vorname </th>
        <td mat-cell *matCellDef="let user"> {{user.firstName}} </td>
      </ng-container>
      
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Nachname </th>
        <td mat-cell *matCellDef="let user"> {{user.lastName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="mailAddress">
        <th mat-header-cell *matHeaderCellDef> E-Mail-Adresse </th>
        <td mat-cell *matCellDef="let user"> {{user.mailAddress}} </td>
      </ng-container>
  
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> Rolle </th>
        <td mat-cell *matCellDef="let user"> {{user.role.name}} </td>
      </ng-container>

      <ng-container matColumnDef="organisation">
        <th mat-header-cell *matHeaderCellDef> Organisation </th>
        <td mat-cell *matCellDef="let user"> {{user.organisationalUnit.name}} </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>