<!--
 Author: Edgar Butwilowski
 Copyright (c) Vermessungsamt Winterthur. All rights reserved.
-->
<div style="margin: 2em;">
    <h1>Benutzerverwaltung</h1>
    <div class="fab-button-container">
      <button mat-fab [routerLink]="['/users', 'new']"
          style="background-color: rgb(133, 99, 212);" class="fab-button">
        <mat-icon aria-label="+">add</mat-icon>
      </button>
    </div>
    <p>Hier k&ouml;nnen Sie Benutzer dieses Systems hinzuf&uuml;gen, entfernen oder bearbeiten.</p>
    <p *ngIf="responseMessage !== null" style="color: red;">{{ responseMessage }}</p>

    <table mat-table [dataSource]="dataSource" class="mat-elevation-z2" style="width: 100%">
  
      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef> Nachname </th>
        <td mat-cell *matCellDef="let element"> {{element.lastName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef> Vorname </th>
        <td mat-cell *matCellDef="let element"> {{element.firstName}} </td>
      </ng-container>
  
      <ng-container matColumnDef="mailAddress">
        <th mat-header-cell *matHeaderCellDef> E-Mail-Adresse </th>
        <td mat-cell *matCellDef="let element"> {{element.mailAddress}} </td>
      </ng-container>
  
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> Rolle </th>
        <td mat-cell *matCellDef="let element"> {{element.role.name}} </td>
      </ng-container>
  
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Aktion </th>
        <td mat-cell *matCellDef="let element">
          <button mat-button [routerLink]="['/users', element.mailAddress]"
                     style="margin: 0.5em;background-color:rgb(173, 210, 245);">BEARBEITEN</button>
          <button mat-button (click)="deleteUser(element.mailAddress)" style="margin: 0.5em;background-color:rgb(243, 174, 174);">ENTFERNEN</button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>