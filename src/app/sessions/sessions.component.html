<!--
 Author: Edgar Butwilowski
 Copyright (c) Fachstelle Geoinformation Winterthur. All rights reserved.
-->
<div #reportContainer style="position: fixed; left: -9999px; top: 0; visibility: hidden;"></div>
<div style="margin: 2em;">
  <h1>Sitzungen ({{ sessionsData?.length }})</h1>
  <!-- <div class="add-new-session-button-container">
    <button mat-fab [routerLink]="['/sessions', 'new']" style="background-color: rgb(255, 25, 0);" class="fab-button">
      <mat-icon aria-label="Icon shows a plus sign">add</mat-icon>
      <mat-icon aria-label="Icon shows a lightbulb">tips_and_updates</mat-icon>
    </button>
  </div> -->
  <div style="margin-bottom: 2em;">  
    <div *ngIf="user">          

      <label class="quick-filter">
        <span>Filter:</span>
        <input
          type="text"
          id="input-quick-filter"
          placeholder="Suchenâ€¦"
          (input)="onQuickFilterChanged()"
        />
      </label>

      <mat-progress-bar *ngIf="isDataLoading" mode="indeterminate" color="primary"></mat-progress-bar>
      <div class="grid-overlay" *ngIf="isDataLoading"></div>
        <ag-grid-angular
            class="ag-theme-alpine"
            [rowData]="sessionsData"
            [columnDefs]="columnDefs"
            [defaultColDef]="defaultColDef"
            [masterDetail]="true"
            [isRowMaster]="isRowMaster"
            [detailCellRendererParams]="detailCellRendererParams"
            [detailRowHeight]="320"
            [detailRowAutoHeight]="false"            
            [groupAggFiltering]=true             
            [includeHiddenColumnsInQuickFilter]=true
            (gridReady)="onGridReady($event)"
            [attr.inert]="isDataLoading ? '' : null"
            style="width: 100%; height: 70vh;"
          >
        </ag-grid-angular>
      </div>        
  </div>
</div>